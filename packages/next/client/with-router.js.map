{"version":3,"sources":["../../client/with-router.tsx"],"names":["withRouter","ComposedComponent","WithRouterWrapper","props","getInitialProps","origGetInitialProps","process","env","NODE_ENV","name","displayName"],"mappings":";;;;;AAAA;;AAEA;;;;AAWe,SAASA,UAAT,CAIbC,iBAJa,EAK+B;AAC5C,WAASC,iBAAT,CAA2BC,KAA3B,EAAoD;AAClD,wBAAO,6BAAC,iBAAD;AAAmB,MAAA,MAAM,EAAE;AAA3B,OAA4CA,KAA5C,EAAP;AACD;;AAEDD,EAAAA,iBAAiB,CAACE,eAAlB,GAAoCH,iBAAiB,CAACG,eAAtD,CACA;AADA;AAEEF,EAAAA,iBAAD,CAA2BG,mBAA3B,GAAkDJ,iBAAD,CAA2BI,mBAA5E;;AACD,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,UAAMC,IAAI,GACRR,iBAAiB,CAACS,WAAlB,IAAiCT,iBAAiB,CAACQ,IAAnD,IAA2D,SAD7D;AAEAP,IAAAA,iBAAiB,CAACQ,WAAlB,GAAiC,cAAaD,IAAK,GAAnD;AACD;;AAED,SAAOP,iBAAP;AACD","sourcesContent":["import React from 'react'\r\nimport { NextComponentType, NextPageContext } from '../next-server/lib/utils'\r\nimport { NextRouter, useRouter } from './router'\r\n\r\nexport type WithRouterProps = {\r\n  router: NextRouter\r\n}\r\n\r\nexport type ExcludeRouterProps<P> = Pick<\r\n  P,\r\n  Exclude<keyof P, keyof WithRouterProps>\r\n>\r\n\r\nexport default function withRouter<\r\n  P extends WithRouterProps,\r\n  C = NextPageContext\r\n>(\r\n  ComposedComponent: NextComponentType<C, any, P>\r\n): React.ComponentType<ExcludeRouterProps<P>> {\r\n  function WithRouterWrapper(props: any): JSX.Element {\r\n    return <ComposedComponent router={useRouter()} {...props} />\r\n  }\r\n\r\n  WithRouterWrapper.getInitialProps = ComposedComponent.getInitialProps\r\n  // This is needed to allow checking for custom getInitialProps in _app\r\n  ;(WithRouterWrapper as any).origGetInitialProps = (ComposedComponent as any).origGetInitialProps\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    const name =\r\n      ComposedComponent.displayName || ComposedComponent.name || 'Unknown'\r\n    WithRouterWrapper.displayName = `withRouter(${name})`\r\n  }\r\n\r\n  return WithRouterWrapper\r\n}\r\n"]}